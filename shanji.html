<!DOCTYPE html>
<!DOCTYPE html>
<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="正宗东北长白山跑山鸡，林下散养，五谷喂养，顺丰直达。">
    <title>长白山·林下臻品 | 专注生态跑山鸡</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    
    <style>
        /* =========================================
           1. 全局变量与基础设置 (Core Styles)
           ========================================= */
        :root {
            --primary: #2d5a27;      /* 深森林绿 */
            --secondary: #8c9e5e;    /* 嫩草绿 */
            --accent: #d48806;       /* 丰收金 */
            --dark: #1a1a1a;         /* 黑灰 */
            --light: #f4f7f6;        /* 浅灰背景 */
            --white: #ffffff;
            --shadow: 0 10px 30px rgba(0,0,0,0.08);
            --transition: all 0.3s ease;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; outline: none; }
        
        html { scroll-behavior: smooth; }
        
        body {
            font-family: "PingFang SC", "Microsoft YaHei", "Helvetica Neue", sans-serif;
            color: var(--dark);
            background-color: var(--light);
            line-height: 1.7;
            overflow-x: hidden;
        }

        a { text-decoration: none; color: inherit; }
        ul { list-style: none; }
        img { max-width: 100%; display: block; }

        /* 滚动条美化 */
        ::-webkit-scrollbar { width: 8px; }
        ::-webkit-scrollbar-track { background: #f1f1f1; }
        ::-webkit-scrollbar-thumb { background: var(--primary); border-radius: 4px; }

        /* 通用工具类 */
        .container { max-width: 1200px; margin: 0 auto; padding: 0 20px; }
        .text-center { text-align: center; }
        .section-padding { padding: 80px 0; }
        
        .section-header {
            margin-bottom: 60px;
            text-align: center;
        }
        .section-header h2 {
            font-size: 2.5rem;
            color: var(--primary);
            margin-bottom: 15px;
            font-weight: 700;
            position: relative;
            display: inline-block;
        }
        .section-header h2::after {
            content: '';
            position: absolute;
            bottom: -10px;
            left: 50%;
            transform: translateX(-50%);
            width: 60px;
            height: 3px;
            background: var(--accent);
        }
        .section-header p { color: #666; font-size: 1.1rem; }

        /* 按钮样式 */
        .btn {
            display: inline-block;
            padding: 12px 35px;
            border-radius: 50px;
            font-weight: 600;
            transition: var(--transition);
            cursor: pointer;
            border: none;
        }
        .btn-primary {
            background: var(--primary);
            color: var(--white);
            box-shadow: 0 4px 15px rgba(45, 90, 39, 0.3);
        }
        .btn-primary:hover { background: #1e401b; transform: translateY(-2px); }
        
        .btn-outline {
            border: 2px solid var(--white);
            color: var(--white);
            background: transparent;
        }
        .btn-outline:hover { background: var(--white); color: var(--primary); }

        /* =========================================
           2. 导航栏 (Navbar)
           ========================================= */
        .navbar {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            z-index: 1000;
            transition: var(--transition);
            padding: 20px 0;
        }
        
        .navbar.scrolled {
            background: rgba(255, 255, 255, 0.95);
            padding: 10px 0;
            box-shadow: 0 5px 20px rgba(0,0,0,0.05);
            backdrop-filter: blur(10px);
        }

        .nav-container {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .logo {
            font-size: 1.8rem;
            font-weight: 800;
            color: var(--white);
            display: flex;
            align-items: center;
            gap: 10px;
        }
        .navbar.scrolled .logo { color: var(--primary); }

        .nav-menu { display: flex; gap: 30px; }
        .nav-link {
            color: rgba(255,255,255,0.9);
            font-weight: 500;
            position: relative;
        }
        .navbar.scrolled .nav-link { color: var(--dark); }
        
        .nav-link::after {
            content: '';
            position: absolute;
            bottom: -5px;
            left: 0;
            width: 0;
            height: 2px;
            background: var(--accent);
            transition: var(--transition);
        }
        .nav-link:hover::after { width: 100%; }

        /* 移动端菜单按钮 */
        .hamburger { display: none; font-size: 1.5rem; color: var(--white); cursor: pointer; }
        .navbar.scrolled .hamburger { color: var(--dark); }

        /* =========================================
           3. 英雄区域 (Hero Section)
           ========================================= */
        .hero {
            height: 100vh;
            background: linear-gradient(rgba(0,0,0,0.4), rgba(0,0,0,0.6)), url('https://images.unsplash.com/photo-1516467508483-a7212febe31a?ixlib=rb-1.2.1&auto=format&fit=crop&w=1920&q=80') no-repeat center/cover;
            background-attachment: fixed; /* 视差效果 */
            display: flex;
            align-items: center;
            text-align: center;
            color: var(--white);
            position: relative;
        }

        .hero-content h1 {
            font-size: 4rem;
            margin-bottom: 20px;
            text-shadow: 0 4px 10px rgba(0,0,0,0.3);
            animation: fadeInUp 1s ease;
        }
        
        .hero-content p {
            font-size: 1.5rem;
            margin-bottom: 40px;
            animation: fadeInUp 1s ease 0.2s backwards;
        }

        .hero-btns { animation: fadeInUp 1s ease 0.4s backwards; }
        .hero-btns .btn { margin: 0 10px; }

        /* 向下滚动提示动画 */
        .scroll-down {
            position: absolute;
            bottom: 30px;
            left: 50%;
            transform: translateX(-50%);
            animation: bounce 2s infinite;
            color: var(--white);
            opacity: 0.8;
        }

        /* =========================================
           4. 数据统计栏 (Stats)
           ========================================= */
        .stats-section {
            background: var(--primary);
            color: var(--white);
            padding: 60px 0;
            margin-top: -5px;
        }
        
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 30px;
            text-align: center;
        }
        
        .stat-item i { font-size: 2.5rem; color: var(--accent); margin-bottom: 15px; }
        .stat-number { font-size: 2.5rem; font-weight: 700; display: block; }
        .stat-label { font-size: 1rem; opacity: 0.9; }

        /* =========================================
           5. 品牌故事 (Story - 左右布局)
           ========================================= */
        .story-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 50px;
            align-items: center;
        }

        .story-img {
            position: relative;
        }
        .story-img img {
            border-radius: 20px;
            box-shadow: var(--shadow);
        }
        .story-badge {
            position: absolute;
            bottom: -20px;
            right: -20px;
            background: var(--accent);
            color: var(--white);
            padding: 20px;
            border-radius: 50%;
            width: 120px;
            height: 120px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
            box-shadow: 0 5px 15px rgba(212, 136, 6, 0.4);
        }
        
        .story-content h3 { font-size: 2rem; margin-bottom: 20px; color: var(--primary); }
        .story-content p { margin-bottom: 15px; color: #555; text-align: justify; }
        
        .check-list li {
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        .check-list i { color: var(--primary); }

        /* =========================================
           6. 核心优势对比 (Comparison)
           ========================================= */
        .comparison-table {
            width: 100%;
            border-collapse: collapse;
            background: var(--white);
            box-shadow: var(--shadow);
            border-radius: 15px;
            overflow: hidden;
        }
        
        .comparison-table th, .comparison-table td {
            padding: 20px;
            text-align: center;
            border-bottom: 1px solid #eee;
        }
        
        .comparison-table th { background: #f8f9fa; font-size: 1.2rem; }
        .comparison-table th.highlight { background: var(--primary); color: var(--white); }
        
        .comparison-table td.check { color: var(--primary); font-size: 1.2rem; }
        .comparison-table td.cross { color: #dc3545; font-size: 1.2rem; }

        /* =========================================
           7. 产品展示 (Tabs & Grid)
           ========================================= */
        .product-tabs {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-bottom: 40px;
        }
        
        .tab-btn {
            padding: 10px 30px;
            border: 1px solid var(--primary);
            border-radius: 30px;
            background: transparent;
            color: var(--primary);
            cursor: pointer;
            transition: var(--transition);
            font-weight: 600;
        }
        
        .tab-btn.active, .tab-btn:hover {
            background: var(--primary);
            color: var(--white);
        }

        .product-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 30px;
        }

        .product-card {
            background: var(--white);
            border-radius: 15px;
            overflow: hidden;
            box-shadow: var(--shadow);
            transition: var(--transition);
            position: relative;
        }
        
        .product-card:hover { transform: translateY(-10px); }
        
        .card-badge {
            position: absolute;
            top: 15px;
            left: 15px;
            background: #e74c3c;
            color: white;
            padding: 5px 10px;
            border-radius: 5px;
            font-size: 0.8rem;
            font-weight: bold;
        }

        .product-img {
            height: 260px;
            width: 100%;
            object-fit: cover;
        }

        .card-body { padding: 25px; }
        .card-title { font-size: 1.3rem; margin-bottom: 10px; }
        .card-tags { margin-bottom: 15px; }
        .tag {
            background: #e8f5e9;
            color: var(--primary);
            padding: 3px 10px;
            border-radius: 10px;
            font-size: 0.8rem;
            margin-right: 5px;
        }
        
        .price-row {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-top: 15px;
        }
        .price { color: #e74c3c; font-size: 1.5rem; font-weight: 800; }
        .unit { font-size: 0.9rem; color: #888; font-weight: normal; }

        /* =========================================
           8. 客户评价 (Testimonials)
           ========================================= */
        .testimonials { background: #fff9c4; } /* 淡黄色背景 */
        
        .review-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 30px;
        }
        
        .review-card {
            background: var(--white);
            padding: 30px;
            border-radius: 15px;
            box-shadow: var(--shadow);
            position: relative;
        }
        
        .quote-icon {
            font-size: 2rem;
            color: rgba(212, 136, 6, 0.2);
            position: absolute;
            top: 20px;
            right: 20px;
        }
        
        .stars { color: #ffc107; margin-bottom: 15px; }
        .review-text { font-style: italic; color: #555; margin-bottom: 20px; }
        .reviewer { display: flex; align-items: center; gap: 15px; }
        .avatar {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background: #ddd;
            object-fit: cover;
        }

        /* =========================================
           9. 常见问题 (FAQ)
           ========================================= */
        .faq-container { max-width: 800px; margin: 0 auto; }
        
        .faq-item {
            background: var(--white);
            margin-bottom: 15px;
            border-radius: 10px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.05);
            overflow: hidden;
        }
        
        .faq-question {
            padding: 20px;
            width: 100%;
            text-align: left;
            background: none;
            border: none;
            font-size: 1.1rem;
            font-weight: 600;
            display: flex;
            justify-content: space-between;
            cursor: pointer;
            color: var(--dark);
        }
        
        .faq-answer {
            padding: 0 20px;
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.3s ease;
            background: #fafafa;
            color: #666;
        }
        
        .faq-item.active .faq-answer { padding-bottom: 20px; max-height: 200px; }
        .faq-item.active .faq-question i { transform: rotate(180deg); }

        /* =========================================
           10. 页脚与联系 (Footer)
           ========================================= */
        footer {
            background: #1a2e18;
            color: #aaa;
            padding-top: 80px;
        }
        
        .footer-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 40px;
            margin-bottom: 60px;
        }
        
        .footer-col h4 { color: var(--white); margin-bottom: 25px; font-size: 1.2rem; }
        .footer-col ul li { margin-bottom: 12px; }
        .footer-col ul li a:hover { color: var(--accent); }
        
        .contact-info li { display: flex; gap: 10px; align-items: center; }
        
        .social-links { display: flex; gap: 15px; margin-top: 20px; }
        .social-links a {
            width: 40px;
            height: 40px;
            background: rgba(255,255,255,0.1);
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
            transition: var(--transition);
        }
        .social-links a:hover { background: var(--accent); color: var(--white); }
        
        .copyright {
            border-top: 1px solid rgba(255,255,255,0.1);
            padding: 20px 0;
            text-align: center;
            font-size: 0.9rem;
        }

        /* 悬浮微信按钮 */
        .float-wechat {
            position: fixed;
            bottom: 30px;
            right: 30px;
            background: #07c160;
            color: white;
            width: 60px;
            height: 60px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 30px;
            box-shadow: 0 5px 20px rgba(7, 193, 96, 0.4);
            cursor: pointer;
            z-index: 999;
            animation: pulse 2s infinite;
        }

        /* 弹窗样式 */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.8);
            z-index: 2000;
            justify-content: center;
            align-items: center;
        }
        .modal-content {
            background: white;
            padding: 30px;
            border-radius: 15px;
            text-align: center;
            max-width: 400px;
            position: relative;
            animation: zoomIn 0.3s;
        }
        .close-btn {
            position: absolute;
            top: 10px;
            right: 15px;
            font-size: 24px;
            cursor: pointer;
        }

        /* 动画关键帧 */
        @keyframes fadeInUp {
            from { opacity: 0; transform: translateY(30px); }
            to { opacity: 1; transform: translateY(0); }
        }
        @keyframes bounce {
            0%, 20%, 50%, 80%, 100% { transform: translate(-50%, 0); }
            40% { transform: translate(-50%, -10px); }
            60% { transform: translate(-50%, -5px); }
        }
        @keyframes pulse {
            0% { box-shadow: 0 0 0 0 rgba(7, 193, 96, 0.7); }
            70% { box-shadow: 0 0 0 20px rgba(7, 193, 96, 0); }
            100% { box-shadow: 0 0 0 0 rgba(7, 193, 96, 0); }
        }
        @keyframes zoomIn {
            from { transform: scale(0.8); opacity: 0; }
            to { transform: scale(1); opacity: 1; }
        }

        /* 响应式适配 */
        @media (max-width: 768px) {
            .hero-content h1 { font-size: 2.5rem; }
            .stats-grid { grid-template-columns: 1fr 1fr; }
            .story-grid { grid-template-columns: 1fr; }
            .nav-menu { display: none; position: absolute; top: 70px; left: 0; width: 100%; background: var(--white); flex-direction: column; padding: 20px; box-shadow: 0 5px 10px rgba(0,0,0,0.1); }
            .nav-menu.active { display: flex; }
            .nav-link { color: var(--dark); }
            .hamburger { display: block; }
            .comparison-table { display: block; overflow-x: auto; }
            .comparison-table th, .comparison-table td { min-width: 120px; }
        }
    </style>
</head>
<body>

    <nav class="navbar">
        <div class="container nav-container">
            <a href="#" class="logo">
                <i class="fas fa-mountain"></i> 长白山·森鸡
            </a>
            <div class="hamburger" onclick="toggleMenu()">
                <i class="fas fa-bars"></i>
            </div>
            <ul class="nav-menu">
                <li><a href="#home" class="nav-link">首页</a></li>
                <li><a href="#story" class="nav-link">品牌故事</a></li>
                <li><a href="#features" class="nav-link">核心优势</a></li>
                <li><a href="#products" class="nav-link">生态产品</a></li>
                <li><a href="#reviews" class="nav-link">客户评价</a></li>
                <li><a href="#contact" class="nav-link btn btn-primary" style="color:white; padding: 5px 20px; border-radius:20px;">立即预订</a></li>
            </ul>
        </div>
    </nav>

    <section id="home" class="hero">
        <div class="container hero-content">
            <h1>来自北纬42°的馈赠</h1>
            <p>喝山泉，食五谷，林下散养180天，找回小时候的味道。</p>
            <div class="hero-btns">
                <a href="#products" class="btn btn-primary">查看产品</a>
                <a href="#story" class="btn btn-outline">了解我们 <i class="fas fa-arrow-right"></i></a>
            </div>
        </div>
        <div class="scroll-down">
            <i class="fas fa-chevron-down"></i>
        </div>
    </section>

    <section class="stats-section">
        <div class="container">
            <div class="stats-grid">
                <div class="stat-item">
                    <i class="fas fa-clock"></i>
                    <span class="stat-number" data-target="180">0</span>
                    <span class="stat-label">最低生长天数</span>
                </div>
                <div class="stat-item">
                    <i class="fas fa-tree"></i>
                    <span class="stat-number" data-target="2000">0</span>
                    <span class="stat-label">亩原始林地</span>
                </div>
                <div class="stat-item">
                    <i class="fas fa-mountain"></i>
                    <span class="stat-number" data-target="800">0</span>
                    <span class="stat-label">米平均海拔</span>
                </div>
                <div class="stat-item">
                    <i class="fas fa-smile"></i>
                    <span class="stat-number" data-target="5000">0</span>
                    <span class="stat-label">位好评客户</span>
                </div>
            </div>
        </div>
    </section>

    <section id="story" class="section-padding">
        <div class="container">
            <div class="section-header">
                <h2>我们的故事</h2>
                <p>从城市回归山林，只为一只好鸡</p>
            </div>
            <div class="story-grid">
                <div class="story-img">
                    <img src="https://images.unsplash.com/photo-1500595046743-cd271d694d30?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80" alt="农场主">
                    <div class="story-badge">
                        <span style="font-size:1.5rem; font-weight:bold;">10年</span>
                        <span>匠心养殖</span>
                    </div>
                </div>
                <div class="story-content">
                    <h3>坚守笨办法，养出真味道</h3>
                    <p>我是老李，土生土长的东北人。十年前，因为在城里买不到一只像样的土鸡给孩子炖汤，我决定回乡承包山头。</p>
                    <p>在这片远离工业污染的深山里，我们坚持着最“笨”的养殖方法：不催熟、不喂饲料、不打激素。鸡群每天在树林里奔跑觅食，累了就飞上枝头休息。</p>
                    <p>虽然这样的养殖成本高、周期长，但当您尝到那一口鲜美的鸡汤时，您会发现，一切等待都是值得的。</p>
                    <ul class="check-list">
                        <li><i class="fas fa-check-circle"></i> 严选优良土鸡品种，抗病力强</li>
                        <li><i class="fas fa-check-circle"></i> 每一只鸡都有脚环溯源码</li>
                        <li><i class="fas fa-check-circle"></i> 坚持传统五谷杂粮科学配比</li>
                    </ul>
                </div>
            </div>
        </div>
    </section>

    <section id="features" class="section-padding" style="background-color: #eef2f3;">
        <div class="container">
            <div class="section-header">
                <h2>不仅仅是鸡肉</h2>
                <p>品质看得见，数据来说话</p>
            </div>
            <table class="comparison-table">
                <thead>
                    <tr>
                        <th>对比项目</th>
                        <th class="highlight">自家跑山鸡</th>
                        <th>市场速成鸡</th>
                        <th>普通土鸡</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>生长周期</td>
                        <td class="check"><strong>180天以上</strong></td>
                        <td>45天左右</td>
                        <td>90-120天</td>
                    </tr>
                    <tr>
                        <td>运动环境</td>
                        <td class="check">深山林地，日行万步</td>
                        <td>狭窄笼养，无法转身</td>
                        <td>平地围栏，活动受限</td>
                    </tr>
                    <tr>
                        <td>主要食物</td>
                        <td class="check">虫草、玉米、山泉水</td>
                        <td>合成饲料、抗生素</td>
                        <td>饲料+少量青菜</td>
                    </tr>
                    <tr>
                        <td>肉质口感</td>
                        <td class="check">皮薄紧实，鲜香不柴</td>
                        <td>肉质松散，腥味重</td>
                        <td>口感一般，香味不足</td>
                    </tr>
                    <tr>
                        <td>营养价值</td>
                        <td class="check">高蛋白，低脂肪</td>
                        <td>脂肪含量极高</td>
                        <td>营养中等</td>
                    </tr>
                </tbody>
            </table>
        </div>
    </section>

    <section id="products" class="section-padding">
        <div class="container">
            <div class="section-header">
                <h2>山里的馈赠</h2>
                <p>现杀现发，顺丰冷链保鲜直达</p>
            </div>

            <div class="product-tabs">
                <button class="tab-btn active" onclick="filterProducts('all')">全部</button>
                <button class="tab-btn" onclick="filterProducts('chicken')">跑山鸡</button>
                <button class="tab-btn" onclick="filterProducts('egg')">笨鸡蛋</button>
                <button class="tab-btn" onclick="filterProducts('other')">山货特产</button>
            </div>

            <div class="product-grid">
                <div class="product-card" data-category="chicken">
                    <div class="card-badge">镇店之宝</div>
                    <img src="https://images.unsplash.com/photo-1587593810167-a6492031e54a?ixlib=rb-1.2.1&auto=format&fit=crop&w=600&q=80" class="product-img" alt="跑山公鸡">
                    <div class="card-body">
                        <h3 class="card-title">长白山散养公鸡</h3>
                        <div class="card-tags">
                            <span class="tag">适合爆炒</span>
                            <span class="tag">肉质劲道</span>
                        </div>
                        <p style="font-size:0.9rem; color:#666;">精选成年大公鸡，羽毛亮丽，体格健硕。肉质紧实有嚼劲，是下酒好菜。</p>
                        <div class="price-row">
                            <div><span class="price">¥168</span> <span class="unit">/只 (净膛3.5斤起)</span></div>
                            <button class="btn btn-primary" style="padding: 8px 20px; font-size:0.9rem;" onclick="openModal()">购买</button>
                        </div>
                    </div>
                </div>

                <div class="product-card" data-category="chicken">
                    <div class="card-badge">滋补首选</div>
                    <img src="https://images.unsplash.com/photo-1604503468506-a8da13d82791?ixlib=rb-1.2.1&auto=format&fit=crop&w=600&q=80" class="product-img" alt="老母鸡">
                    <div class="card-body">
                        <h3 class="card-title">三年陈老母鸡</h3>
                        <div class="card-tags">
                            <span class="tag">适合煲汤</span>
                            <span class="tag">营养丰富</span>
                        </div>
                        <p style="font-size:0.9rem; color:#666;">只有养足年份的老母鸡，炖出的汤才是一片金黄，那是时间的味道。</p>
                        <div class="price-row">
                            <div><span class="price">¥198</span> <span class="unit">/只 (净膛3.2斤起)</span></div>
                            <button class="btn btn-primary" style="padding: 8px 20px; font-size:0.9rem;" onclick="openModal()">购买</button>
                        </div>
                    </div>
                </div>

                <div class="product-card" data-category="egg">
                    <img src="https://images.unsplash.com/photo-1506976785307-8732e854ad03?ixlib=rb-1.2.1&auto=format&fit=crop&w=600&q=80" class="product-img" alt="笨鸡蛋">
                    <div class="card-body">
                        <h3 class="card-title">初产绿壳笨鸡蛋</h3>
                        <div class="card-tags">
                            <span class="tag">无腥味</span>
                            <span class="tag">蛋黄红</span>
                        </div>
                        <p style="font-size:0.9rem; color:#666;">给宝宝做辅食的首选，蛋清浓稠，蛋黄个大，没有任何腥味。</p>
                        <div class="price-row">
                            <div><span class="price">¥99</span> <span class="unit">/30枚</span></div>
                            <button class="btn btn-primary" style="padding: 8px 20px; font-size:0.9rem;" onclick="openModal()">购买</button>
                        </div>
                    </div>
                </div>

                <div class="product-card" data-category="other">
                    <img src="https://images.unsplash.com/photo-1550353185-8f473d907d83?ixlib=rb-1.2.1&auto=format&fit=crop&w=600&q=80" class="product-img" alt="野生榛蘑">
                    <div class="card-body">
                        <h3 class="card-title">野生干榛蘑</h3>
                        <div class="card-tags">
                            <span class="tag">小鸡炖蘑菇绝配</span>
                        </div>
                        <p style="font-size:0.9rem; color:#666;">农闲时山上采摘晾晒的，无根免洗，炖鸡灵魂伴侣。</p>
                        <div class="price-row">
                            <div><span class="price">¥58</span> <span class="unit">/半斤</span></div>
                            <button class="btn btn-primary" style="padding: 8px 20px; font-size:0.9rem;" onclick="openModal()">购买</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <section id="reviews" class="section-padding testimonials">
        <div class="container">
            <div class="section-header">
                <h2>回头客怎么说</h2>
                <p>金杯银杯，不如客户的口碑</p>
            </div>
            <div class="review-grid">
                <div class="review-card">
                    <i class="fas fa-quote-right quote-icon"></i>
                    <div class="stars">
                        <i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i>
                    </div>
                    <p class="review-text">“买了三次了，这才是真正的小时候的味道！鸡汤特别鲜，面上漂着一层金黄的油花，肉一点都不柴。”</p>
                    <div class="reviewer">
                        <img src="https://randomuser.me/api/portraits/women/1.jpg" alt="头像" class="avatar">
                        <div>
                            <strong>张女士</strong>
                            <div style="font-size:0.8rem; color:#666;">上海 · 宝妈</div>
                        </div>
                    </div>
                </div>
                <div class="review-card">
                    <i class="fas fa-quote-right quote-icon"></i>
                    <div class="stars">
                        <i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i>
                    </div>
                    <p class="review-text">“发货很快，顺丰到北京依然冰袋都没化。给家里老人买的，说这才是正经的溜达鸡，吃完还会再来。”</p>
                    <div class="reviewer">
                        <img src="https://randomuser.me/api/portraits/men/2.jpg" alt="头像" class="avatar">
                        <div>
                            <strong>刘先生</strong>
                            <div style="font-size:0.8rem; color:#666;">北京 · 互联网高管</div>
                        </div>
                    </div>
                </div>
                <div class="review-card">
                    <i class="fas fa-quote-right quote-icon"></i>
                    <div class="stars">
                        <i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i>
                    </div>
                    <p class="review-text">“鸡蛋个个都很新鲜，打开蛋黄圆鼓鼓的，炒出来的颜色特别好看，口感也香。”</p>
                    <div class="reviewer">
                        <img src="https://randomuser.me/api/portraits/women/3.jpg" alt="头像" class="avatar">
                        <div>
                            <strong>王奶奶</strong>
                            <div style="font-size:0.8rem; color:#666;">广州 · 退休教师</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <section class="section-padding">
        <div class="container">
            <div class="section-header">
                <h2>购买答疑</h2>
            </div>
            <div class="faq-container">
                <div class="faq-item active">
                    <button class="faq-question">
                        怎么保证是真散养？
                        <i class="fas fa-chevron-down"></i>
                    </button>
                    <div class="faq-answer">
                        您加我微信，我可以随时给您发视频，或者视频通话看鸡群在山上的情况。我们也欢迎您随时来农场实地考察！
                    </div>
                </div>
                <div class="faq-item">
                    <button class="faq-question">
                        发货用什么快递？坏了包赔吗？
                        <i class="fas fa-chevron-down"></i>
                    </button>
                    <div class="faq-answer">
                        我们统一使用顺丰生鲜冷链，全程冰袋+泡沫箱保鲜。如果收到货有变质或鸡蛋破损，拍照发给我，按比例秒赔付，绝不推脱。
                    </div>
                </div>
                <div class="faq-item">
                    <button class="faq-question">
                        怎么吃最好吃？
                        <i class="fas fa-chevron-down"></i>
                    </button>
                    <div class="faq-answer">
                        我们的鸡运动量大，肉质紧实。建议先用高压锅压15-20分钟，再收汁红烧或者炖蘑菇。如果是老母鸡，小火慢炖3小时以上最滋补。
                    </div>
                </div>
            </div>
        </div>
    </section>

    <footer id="contact">
        <div class="container">
            <div class="footer-grid">
                <div class="footer-col">
                    <h4>关于农场</h4>
                    <p style="margin-bottom:20px; line-height:1.6;">专注生态养殖10年，只做让家人放心吃的健康食品。从长白山深处，直达您的餐桌。</p>
                </div>
                <div class="footer-col">
                    <h4>快速导航</h4>
                    <ul>
                        <li><a href="#home">回到首页</a></li>
                        <li><a href="#products">选购产品</a></li>
                        <li><a href="#story">农场故事</a></li>
                    </ul>
                </div>
                <div class="footer-col">
                    <h4>联系我们</h4>
                    <ul class="contact-info">
                        <li><i class="fas fa-phone-alt"></i> 138-XXXX-XXXX (李场长)</li>
                        <li><i class="fas fa-map-marker-alt"></i> 吉林省·长白山脚下某某村</li>
                        <li><i class="fas fa-envelope"></i> contact@example.com</li>
                    </ul>
                    <div class="social-links">
                        <a href="#"><i class="fab fa-weixin"></i></a>
                        <a href="#"><i class="fab fa-tiktok"></i></a>
                        <a href="#"><i class="fab fa-weibo"></i></a>
                    </div>
                </div>
            </div>
            <div class="copyright">
                &copy; 2024 长白山森鸡农场 版权所有
            </div>
        </div>
    </footer>

    <div class="float-wechat" onclick="openModal()">
        <i class="fab fa-weixin"></i>
    </div>

    <div id="wechatModal" class="modal">
        <div class="modal-content">
            <span class="close-btn" onclick="closeModal()">&times;</span>
            <h3 style="color:var(--primary); margin-bottom:10px;">加微信 享优惠</h3>
            <p style="color:#666; margin-bottom:20px;">看朋友圈实时养殖视频，放心买！</p>
            <div style="width:200px; height:200px; background:#eee; margin:0 auto 20px; display:flex; align-items:center; justify-content:center;">
                <img src="https://api.qrserver.com/v1/create-qr-code/?size=200x200&data=YourWeChatID" alt="微信二维码">
            </div>
            <p style="font-weight:bold;">微信号：NortheastChicken</p>
        </div>
    </div>

    <script>
        // 1. 导航栏滚动变色效果
        window.addEventListener('scroll', function() {
            const navbar = document.querySelector('.navbar');
            if (window.scrollY > 50) {
                navbar.classList.add('scrolled');
            } else {
                navbar.classList.remove('scrolled');
            }
        });

        // 2. 移动端菜单切换
        function toggleMenu() {
            document.querySelector('.nav-menu').classList.toggle('active');
        }
        // 点击链接后自动收起菜单
        document.querySelectorAll('.nav-link').forEach(n => n.addEventListener('click', () => {
            document.querySelector('.nav-menu').classList.remove('active');
        }));

        // 3. 数字增长动画 (当滚动到数字区域时触发)
        const statsSection = document.querySelector('.stats-section');
        let started = false;

        window.addEventListener('scroll', () => {
            if (window.scrollY + window.innerHeight > statsSection.offsetTop && !started) {
                const counters = document.querySelectorAll('.stat-number');
                counters.forEach(counter => {
                    const target = +counter.getAttribute('data-target');
                    const increment = target / 100;
                    
                    const updateCounter = () => {
                        const c = +counter.innerText;
                        if (c < target) {
                            counter.innerText = Math.ceil(c + increment);
                            setTimeout(updateCounter, 20);
                        } else {
                            counter.innerText = target + (target > 100 ? '+' : ''); // 加上加号
                        }
                    };
                    updateCounter();
                });
                started = true;
            }
        });

        // 4. 产品选项卡切换
        function filterProducts(category) {
            // 按钮样式切换
            const buttons = document.querySelectorAll('.tab-btn');
            buttons.forEach(btn => {
                btn.classList.remove('active');
                if (btn.innerText === (category === 'all' ? '全部' : 
                                     category === 'chicken' ? '跑山鸡' : 
                                     category === 'egg' ? '笨鸡蛋' : '山货特产')) {
                    btn.classList.add('active');
                }
            });

            // 产品显示切换
            const products = document.querySelectorAll('.product-card');
            products.forEach(card => {
                if (category === 'all' || card.dataset.category === category) {
                    card.style.display = 'block';
                    // 添加淡入动画
                    card.style.animation = 'fadeInUp 0.5s ease';
                } else {
                    card.style.display = 'none';
                }
            });
        }

        // 5. FAQ 折叠面板
        const faqItems = document.querySelectorAll('.faq-item');
        faqItems.forEach(item => {
            item.querySelector('.faq-question').addEventListener('click', () => {
                // 关闭其他打开的
                faqItems.forEach(otherItem => {
                    if (otherItem !== item) otherItem.classList.remove('active');
                });
                // 切换当前的
                item.classList.toggle('active');
            });
        });

        // 6. 弹窗控制
        const modal = document.getElementById('wechatModal');
        function openModal() {
            modal.style.display = 'flex';
        }
        function closeModal() {
            modal.style.display = 'none';
        }
        // 点击空白处关闭
        window.onclick = function(event) {
            if (event.target == modal) {
                modal.style.display = "none";
            }
        }

    </script>
</body>
</html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>长白山·林下臻品 | 玩游戏赢免单</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    
    <style>
        /* =========================================
           1. 基础样式保持不变
           ========================================= */
        :root {
            --primary: #2d5a27;
            --primary-dark: #1e401b;
            --accent: #d48806;
            --game-bg: #8c9e5e;
            --text-main: #1a1a1a;
            --white: #ffffff;
            --shadow-lg: 0 15px 30px rgba(0,0,0,0.1);
            --transition: all 0.3s ease;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; outline: none; -webkit-tap-highlight-color: transparent; }
        html { scroll-behavior: smooth; }
        body { font-family: "PingFang SC", sans-serif; color: var(--text-main); background: #fff; line-height: 1.6; overflow-x: hidden; }
        a { text-decoration: none; color: inherit; transition: var(--transition); }
        ul { list-style: none; }
        img { max-width: 100%; display: block; }

        /* 通用组件 */
        .container { max-width: 1200px; margin: 0 auto; padding: 0 20px; }
        .section-padding { padding: 80px 0; }
        .section-header { text-align: center; margin-bottom: 50px; }
        .section-header h2 { font-size: 2.2rem; color: var(--primary); margin-bottom: 10px; }
        .btn { display: inline-flex; justify-content: center; align-items: center; padding: 10px 30px; border-radius: 50px; cursor: pointer; font-weight: bold; border: none; transition: var(--transition); }
        .btn-primary { background: var(--primary); color: white; }
        .btn-primary:hover { background: var(--primary-dark); transform: translateY(-2px); }

        /* 导航栏 */
        .navbar { position: fixed; top: 0; width: 100%; z-index: 1000; padding: 15px 0; background: rgba(255,255,255,0.95); box-shadow: 0 2px 10px rgba(0,0,0,0.05); backdrop-filter: blur(5px); }
        .nav-inner { display: flex; justify-content: space-between; align-items: center; }
        .logo { font-size: 1.5rem; font-weight: 800; color: var(--primary); display: flex; align-items: center; gap: 8px; }
        .nav-links { display: flex; gap: 20px; }
        .nav-link { font-weight: 500; color: #333; }
        .nav-link:hover { color: var(--accent); }
        
        /* 这里的会员状态显示 */
        .user-status { display: flex; align-items: center; gap: 10px; font-size: 0.9rem; }
        .points-badge { background: var(--accent); color: white; padding: 2px 10px; border-radius: 10px; font-size: 0.8rem; }

        /* 首屏 Hero */
        .hero { height: 80vh; background: linear-gradient(rgba(0,0,0,0.4), rgba(0,0,0,0.4)), url('https://images.unsplash.com/photo-1516467508483-a7212febe31a?ixlib=rb-1.2.1&auto=format&fit=crop&w=1920&q=80') center/cover; display: flex; align-items: center; justify-content: center; text-align: center; color: white; }
        .hero h1 { font-size: 3.5rem; margin-bottom: 20px; text-shadow: 0 2px 10px rgba(0,0,0,0.5); }
        
        /* =========================================
           2. 游戏区域样式 (新增核心部分)
           ========================================= */
        .game-section { background: #fdfbf7; border-top: 5px solid var(--accent); }
        
        .game-container {
            background: white; border-radius: 20px; box-shadow: var(--shadow-lg); overflow: hidden;
            display: grid; grid-template-columns: 2fr 1fr; gap: 0;
        }

        /* 左侧：游戏画布 */
        .game-area {
            position: relative; height: 500px; background: #8bc34a; 
            background-image: radial-gradient(#aed581 15%, transparent 16%), radial-gradient(#aed581 15%, transparent 16%);
            background-size: 60px 60px; background-position: 0 0, 30px 30px; /* 草地纹理 */
            overflow: hidden; cursor: crosshair; user-select: none;
            display: flex; flex-direction: column; justify-content: center; align-items: center;
        }

        .game-overlay {
            position: absolute; top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0,0,0,0.6); z-index: 20;
            display: flex; flex-direction: column; justify-content: center; align-items: center; text-align: center; color: white;
        }
        .game-overlay h3 { font-size: 2rem; margin-bottom: 15px; color: var(--accent); text-shadow: 2px 2px 0 #fff; }
        .game-overlay p { margin-bottom: 30px; font-size: 1.1rem; max-width: 80%; }

        /* 跑山鸡目标 */
        .chicken-target {
            position: absolute; width: 80px; height: 80px; 
            font-size: 60px; line-height: 80px; text-align: center;
            cursor: pointer; transition: transform 0.1s; z-index: 10;
            filter: drop-shadow(0 5px 5px rgba(0,0,0,0.3));
            animation: bounceIn 0.3s;
        }
        .chicken-target:active { transform: scale(0.9); }
        
        /* 游戏UI：分数和倒计时 */
        .game-hud {
            position: absolute; top: 20px; width: 90%; display: flex; justify-content: space-between; z-index: 15; pointer-events: none;
        }
        .hud-box { background: rgba(255,255,255,0.9); padding: 10px 20px; border-radius: 30px; font-weight: bold; color: var(--primary); box-shadow: 0 5px 10px rgba(0,0,0,0.1); font-size: 1.2rem; }

        /* 右侧：积分商城 */
        .mall-area { padding: 30px; background: #fff; border-left: 1px solid #eee; display: flex; flex-direction: column; }
        .mall-header { margin-bottom: 20px; text-align: center; }
        .user-card { background: #f0f4c3; padding: 15px; border-radius: 10px; margin-bottom: 20px; display: flex; align-items: center; justify-content: space-between; }
        
        .coupon-list { flex: 1; overflow-y: auto; padding-right: 5px; }
        .coupon-item {
            border: 2px dashed #ddd; border-radius: 10px; padding: 15px; margin-bottom: 15px;
            display: flex; justify-content: space-between; align-items: center; transition: 0.3s;
            background: #fafafa;
        }
        .coupon-item.unlocked { border-color: var(--accent); background: #fff8e1; border-style: solid; }
        .coupon-left h4 { color: var(--accent); font-size: 1.4rem; font-weight: bold; }
        .coupon-left p { font-size: 0.8rem; color: #888; }
        
        .coupon-btn {
            background: #ccc; color: white; padding: 5px 15px; border-radius: 20px; font-size: 0.8rem; cursor: not-allowed; border:none;
        }
        .coupon-btn.active { background: var(--accent); cursor: pointer; animation: pulse 2s infinite; }
        
        /* 注册弹窗 */
        .modal { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.8); z-index: 2000; align-items: center; justify-content: center; }
        .modal-box { background: white; padding: 40px; border-radius: 15px; width: 90%; max-width: 400px; text-align: center; position: relative; animation: zoomIn 0.3s; }
        .form-input { width: 100%; padding: 12px; margin: 10px 0; border: 1px solid #ddd; border-radius: 5px; font-size: 1rem; }
        
        /* 动画 */
        @keyframes bounceIn { from { transform: scale(0); } to { transform: scale(1); } }
        @keyframes pop { 0% { transform: scale(1); } 50% { transform: scale(1.3); } 100% { transform: scale(0); opacity: 0; } }
        @keyframes pulse { 0% { box-shadow: 0 0 0 0 rgba(212, 136, 6, 0.4); } 70% { box-shadow: 0 0 0 10px rgba(212, 136, 6, 0); } 100% { box-shadow: 0 0 0 0 rgba(212, 136, 6, 0); } }
        @keyframes zoomIn { from { transform: scale(0.8); opacity: 0; } to { transform: scale(1); opacity: 1; } }

        /* 移动端适配 */
        @media (max-width: 768px) {
            .hero h1 { font-size: 2.2rem; }
            .nav-links { display: none; } /* 简化导航 */
            .game-container { grid-template-columns: 1fr; }
            .game-area { height: 400px; }
            .mall-area { height: auto; border-left: none; border-top: 1px solid #eee; }
        }
    </style>
</head>
<body>

    <nav class="navbar">
        <div class="container nav-inner">
            <a href="#" class="logo"><i class="fas fa-tree"></i> 森鸡农场</a>
            <div class="user-status" id="navUserArea">
                <button class="btn btn-primary" style="padding: 5px 15px; font-size: 0.9rem;" onclick="openLogin()">登录/注册</button>
            </div>
        </div>
    </nav>

    <header class="hero">
        <div class="container">
            <h1>玩游戏 赢跑山鸡</h1>
            <p style="font-size: 1.2rem; opacity: 0.9; margin-bottom: 30px;">手速越快，优惠越多！积分可直接抵扣现金。</p>
            <a href="#game" class="btn btn-primary" style="background: var(--accent); border: none;">立即开始游戏</a>
        </div>
    </header>

    <section id="game" class="section-padding game-section">
        <div class="container">
            <div class="section-header">
                <h2>抓鸡大作战</h2>
                <p>点击屏幕上出现的跑山鸡，每抓一只得 10 积分</p>
            </div>

            <div class="game-container">
                <div class="game-area" id="gameArea">
                    <div class="game-hud">
                        <div class="hud-box"><i class="fas fa-clock"></i> <span id="timeDisplay">30</span>s</div>
                        <div class="hud-box"><i class="fas fa-coins"></i> <span id="scoreDisplay">0</span></div>
                    </div>
                    
                    <div class="game-overlay" id="gameOverlay">
                        <i class="fas fa-gamepad" style="font-size: 4rem; color: #fff; margin-bottom: 20px;"></i>
                        <h3 id="overlayTitle">准备好了吗？</h3>
                        <p id="overlayDesc">登录后即可开始赚积分，积分永不过期！</p>
                        <button class="btn btn-primary" id="startBtn" onclick="checkLoginAndStart()" style="background:var(--accent); font-size:1.2rem; padding: 15px 40px;">开始抓鸡</button>
                    </div>
                </div>

                <div class="mall-area">
                    <div class="mall-header">
                        <h3><i class="fas fa-gift"></i> 积分兑换</h3>
                    </div>
                    
                    <div class="user-card" id="userCard" style="display:none;">
                        <div>
                            <strong id="userNameDisplay">用户</strong>
                            <div style="font-size:0.8rem; color:#666;">当前积分</div>
                        </div>
                        <div style="font-size: 1.5rem; font-weight:bold; color:var(--primary);" id="userPoints">0</div>
                    </div>

                    <div class="coupon-list">
                        <div class="coupon-item" id="coupon1">
                            <div class="coupon-left">
                                <h4>¥5 优惠券</h4>
                                <p>需 100 积分</p>
                            </div>
                            <button class="coupon-btn" onclick="redeemCoupon(5, 100)">兑换</button>
                        </div>
                        <div class="coupon-item" id="coupon2">
                            <div class="coupon-left">
                                <h4>¥10 优惠券</h4>
                                <p>需 300 积分</p>
                            </div>
                            <button class="coupon-btn" onclick="redeemCoupon(10, 300)">兑换</button>
                        </div>
                        <div class="coupon-item" id="coupon3">
                            <div class="coupon-left">
                                <h4>送 10枚鸡蛋</h4>
                                <p>需 1000 积分</p>
                            </div>
                            <button class="coupon-btn" onclick="redeemCoupon('egg', 1000)">兑换</button>
                        </div>
                    </div>
                </div>
            </div>
            
            <p style="text-align:center; color:#999; margin-top:20px; font-size:0.9rem;">* 游戏规则：每局30秒，抓到一只鸡得10分。兑换后的优惠码请截图保存，联系客服核销。</p>
        </div>
    </section>

    <section class="section-padding">
        <div class="container">
            <div class="section-header">
                <h2>用券购买更优惠</h2>
                <p>正宗长白山林下跑山鸡，现杀现发</p>
            </div>
            <div style="display: flex; gap: 20px; flex-wrap: wrap; justify-content: center;">
                <div style="width: 300px; border: 1px solid #eee; border-radius: 10px; padding: 20px; text-align: center;">
                    <img src="https://images.unsplash.com/photo-1587593810167-a6492031e54a?ixlib=rb-1.2.1&auto=format&fit=crop&w=400&q=80" style="width:100%; height:200px; object-fit:cover; border-radius:5px; margin-bottom:15px;">
                    <h3>跑山公鸡</h3>
                    <p style="color:red; font-weight:bold; font-size:1.2rem;">¥168 / 只</p>
                    <button class="btn btn-primary" style="margin-top:10px; width:100%" onclick="showWechat()">立即预订</button>
                </div>
                <div style="width: 300px; border: 1px solid #eee; border-radius: 10px; padding: 20px; text-align: center;">
                    <img src="https://images.unsplash.com/photo-1506976785307-8732e854ad03?ixlib=rb-1.2.1&auto=format&fit=crop&w=400&q=80" style="width:100%; height:200px; object-fit:cover; border-radius:5px; margin-bottom:15px;">
                    <h3>笨鸡蛋礼盒</h3>
                    <p style="color:red; font-weight:bold; font-size:1.2rem;">¥99 / 30枚</p>
                    <button class="btn btn-primary" style="margin-top:10px; width:100%" onclick="showWechat()">立即预订</button>
                </div>
            </div>
        </div>
    </section>

    <div id="loginModal" class="modal">
        <div class="modal-box">
            <h3 style="margin-bottom:20px; color:var(--primary);">会员注册/登录</h3>
            <p style="color:#666; margin-bottom:20px; font-size:0.9rem;">无需密码，输入手机号自动保存积分</p>
            <input type="text" id="loginName" class="form-input" placeholder="请输入您的昵称 (如: 隔壁老王)">
            <input type="tel" id="loginPhone" class="form-input" placeholder="请输入手机号 (用于核销优惠)">
            <button class="btn btn-primary" style="width:100%; margin-top:10px;" onclick="handleLogin()">进入游戏</button>
            <button style="margin-top:15px; background:none; border:none; color:#999; cursor:pointer;" onclick="closeLogin()">关闭</button>
        </div>
    </div>

    <div id="wechatModal" class="modal" onclick="this.style.display='none'">
        <div class="modal-box" onclick="event.stopPropagation()">
            <h3>联系客服核销优惠券</h3>
            <div style="width:200px; height:200px; background:#eee; margin:20px auto; display:flex; align-items:center; justify-content:center;">
                <img src="https://api.qrserver.com/v1/create-qr-code/?size=200x200&data=WeChatID" alt="二维码">
            </div>
            <p>截图您的优惠券代码发给我</p>
            <p style="font-weight:bold; margin-top:10px;">微信号：SenJi-Farm</p>
        </div>
    </div>

    <script>
        // =========================================
        // 1. 全局变量与用户数据系统 (Local Storage)
        // =========================================
        let currentUser = null;
        const GAME_DURATION = 30;
        let gameTimer = null;
        let spawnTimer = null;
        let currentScore = 0;
        let timeLeft = GAME_DURATION;

        // 初始化：检查是否已登录
        window.onload = function() {
            const savedUser = localStorage.getItem('senji_user');
            if (savedUser) {
                currentUser = JSON.parse(savedUser);
                updateUI();
            }
        };

        // 更新界面显示 (积分、按钮状态)
        function updateUI() {
            if (currentUser) {
                // 导航栏变化
                document.getElementById('navUserArea').innerHTML = `
                    <span class="points-badge"><i class="fas fa-coins"></i> ${currentUser.points}</span>
                    <span>${currentUser.name}</span>
                    <a href="#" onclick="logout()" style="font-size:0.8rem; color:#999; margin-left:10px;">[退出]</a>
                `;
                // 商城个人卡片
                document.getElementById('userCard').style.display = 'flex';
                document.getElementById('userNameDisplay').innerText = currentUser.name;
                document.getElementById('userPoints').innerText = currentUser.points;
                
                // 游戏覆盖层文案
                document.getElementById('overlayDesc').innerText = `当前积分：${currentUser.points} | 点击下方按钮开始赚分`;
                document.getElementById('startBtn').innerText = "开始抓鸡";
                
                checkCouponStatus();
            } else {
                document.getElementById('navUserArea').innerHTML = `<button class="btn btn-primary" style="padding: 5px 15px; font-size: 0.9rem;" onclick="openLogin()">登录/注册</button>`;
                document.getElementById('userCard').style.display = 'none';
            }
        }

        // =========================================
        // 2. 登录注册逻辑
        // =========================================
        function openLogin() { document.getElementById('loginModal').style.display = 'flex'; }
        function closeLogin() { document.getElementById('loginModal').style.display = 'none'; }
        
        function handleLogin() {
            const name = document.getElementById('loginName').value.trim();
            const phone = document.getElementById('loginPhone').value.trim();
            
            if (!name || !phone) { alert("请输入昵称和手机号"); return; }
            
            // 简单的模拟登录
            currentUser = {
                name: name,
                phone: phone,
                points: currentUser ? currentUser.points : 0, // 如果之前有记录则保留，否则0
                coupons: currentUser ? currentUser.coupons : []
            };
            
            // 如果本地已有该手机号记录，读取旧积分
            const existingData = localStorage.getItem('senji_user_' + phone);
            if (existingData) {
                const oldData = JSON.parse(existingData);
                currentUser.points = oldData.points;
                currentUser.coupons = oldData.coupons || [];
            }
            
            saveData();
            closeLogin();
            updateUI();
            alert("登录成功！快去抓鸡赚积分吧！");
        }

        function logout() {
            localStorage.removeItem('senji_user');
            currentUser = null;
            location.reload();
        }

        function saveData() {
            if (!currentUser) return;
            // 保存当前会话
            localStorage.setItem('senji_user', JSON.stringify(currentUser));
            // 永久保存该用户数据 (按手机号)
            localStorage.setItem('senji_user_' + currentUser.phone, JSON.stringify(currentUser));
            updateUI();
        }

        // =========================================
        // 3. 游戏核心逻辑
        // =========================================
        function checkLoginAndStart() {
            if (!currentUser) {
                openLogin();
            } else {
                startGame();
            }
        }

        function startGame() {
            const overlay = document.getElementById('gameOverlay');
            const area = document.getElementById('gameArea');
            
            // 重置状态
            currentScore = 0;
            timeLeft = GAME_DURATION;
            document.getElementById('scoreDisplay').innerText = "0";
            document.getElementById('timeDisplay').innerText = timeLeft;
            overlay.style.display = 'none'; // 隐藏遮罩
            
            // 倒计时
            gameTimer = setInterval(() => {
                timeLeft--;
                document.getElementById('timeDisplay').innerText = timeLeft;
                if (timeLeft <= 0) endGame();
            }, 1000);

            // 生成跑山鸡循环
            spawnChicken();
            spawnTimer = setInterval(spawnChicken, 800); // 每0.8秒生成一只
        }

        function spawnChicken() {
            const area = document.getElementById('gameArea');
            const chicken = document.createElement('div');
            chicken.classList.add('chicken-target');
            chicken.innerHTML = "🐓"; // 用emoji代替图片，减少加载
            
            // 随机位置 (减去自身宽高防止溢出)
            const maxX = area.clientWidth - 80;
            const maxY = area.clientHeight - 80;
            const randomX = Math.floor(Math.random() * maxX);
            const randomY = Math.floor(Math.random() * maxY);
            
            chicken.style.left = randomX + 'px';
            chicken.style.top = randomY + 'px';
            
            // 点击事件
            chicken.onclick = function() {
                // 加分
                currentScore += 10;
                document.getElementById('scoreDisplay').innerText = currentScore;
                
                // 特效
                this.innerHTML = "💥"; // 变成爆炸效果
                this.style.pointerEvents = "none"; // 防止连点
                setTimeout(() => this.remove(), 200);
            };

            area.appendChild(chicken);

            // 鸡的存活时间 (没点到就消失)
            setTimeout(() => {
                if (chicken.parentNode) chicken.remove();
            }, 1200); 
        }

        function endGame() {
            clearInterval(gameTimer);
            clearInterval(spawnTimer);
            
            // 清理战场
            const chickens = document.querySelectorAll('.chicken-target');
            chickens.forEach(c => c.remove());
            
            // 结算积分
            if (currentUser) {
                currentUser.points += currentScore;
                saveData();
            }
            
            // 显示结算画面
            const overlay = document.getElementById('gameOverlay');
            document.getElementById('overlayTitle').innerText = "时间到！";
            document.getElementById('overlayDesc').innerText = `本局得分：${currentScore} | 总积分：${currentUser.points}`;
            document.getElementById('startBtn').innerText = "再玩一次";
            overlay.style.display = 'flex';
        }

        // =========================================
        // 4. 优惠券兑换逻辑
        // =========================================
        function checkCouponStatus() {
            if (!currentUser) return;
            
            // 检查每个按钮是否可点击
            updateCouponBtn('coupon1', 5, 100);
            updateCouponBtn('coupon2', 10, 300);
            updateCouponBtn('coupon3', 'egg', 1000);
        }

        function updateCouponBtn(id, val, cost) {
            const el = document.getElementById(id);
            const btn = el.querySelector('.coupon-btn');
            
            // 检查是否已经兑换过 (简化逻辑：这里只做积分判断，实际可加已兑换标记)
            if (currentUser.points >= cost) {
                btn.classList.add('active');
                btn.innerText = "兑换";
            } else {
                btn.classList.remove('active');
                btn.innerText = "积分不足";
            }
        }

        function redeemCoupon(type, cost) {
            if (!currentUser) { openLogin(); return; }
            if (currentUser.points < cost) { alert("积分不足，快去玩游戏吧！"); return; }
            
            if (confirm(`确定消耗 ${cost} 积分兑换此优惠吗？`)) {
                currentUser.points -= cost;
                saveData();
                
                // 生成一个伪随机核销码
                const code = "SENJI" + Math.floor(Math.random() * 10000) + type;
                alert(`兑换成功！\n您的优惠码是：${code}\n请截图保存，联系客服核销。`);
            }
        }
        
        function showWechat() {
            document.getElementById('wechatModal').style.display = 'flex';
        }

    </script>
</body>
</html>